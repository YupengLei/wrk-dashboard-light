{"ast":null,"code":"var _jsxFileName = \"/Users/yupenglei/Documents/wrk-dashboard-light/src/component/events/number.js\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport eventData from \"../../data/events_warehouse_calendar.csv\";\nimport { ChartHeader, ChartFooter, ChartContainer } from \"../housing/availableUnits\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class RadioButton extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        value: this.props.value,\n        onChange: this.props.onChange,\n        checked: this.props.checked,\n        id: this.props.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: this.props.id,\n        children: this.props.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass NumberRadioButton extends React.Component {\n  render() {\n    const yearRange = [\"2020\", \"2021\", \"2022\"];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"radio-buttons\",\n      children: yearRange.map(element => {\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(RadioButton, {\n            value: element,\n            onChange: this.props.onChange,\n            id: element + \"number\",\n            checked: this.props.year === element\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 29\n          }, this)\n        }, element, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default class Number extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      numberYear: \"2022\"\n    };\n\n    this.handleNumberYearChange = value => {\n      let numberYear = this.state.numberYear;\n      numberYear = value;\n      this.setState({\n        numberYear: numberYear\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.drawNumber();\n    };\n\n    this.componentDidUpdate = () => {\n      d3.selectAll(\"svg\").remove();\n      this.drawNumber();\n    };\n\n    this.drawNumber = () => {\n      //set svg size\n      let w = 1000;\n      let h = 500;\n      let padding = 40;\n      let leftMargin = 100;\n      let dataset = [],\n          xScale,\n          yScale,\n          xAxis,\n          yAxis; //loading data from csv file\n\n      d3.csv(eventData).then(data => {\n        let monthGroup = [];\n\n        for (let i = 0; i < 12; i++) {\n          monthGroup.push({\n            \"Other\": 0,\n            \"Resume\": 0,\n            \"Virtual Classes\": 0,\n            \"The Warehouse\": 0,\n            \"Digital Media Arts Room\": 0\n          });\n        }\n\n        for (let obj of data) {\n          if (obj.year !== this.state.numberYear) continue;\n          let month = obj.month;\n          let location = obj.location;\n          monthGroup[month - 1][location]++;\n        }\n\n        let monthNames = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May.\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n\n        for (let i = 0; i < 12; i++) {\n          dataset.push({\n            month: monthNames[i],\n            ...monthGroup[i]\n          });\n        }\n\n        let subgroups = [\"Other\", \"Resume\", \"Virtual Classes\", \"The Warehouse\", \"Digital Media Arts Room\"];\n        let color = d3.scaleOrdinal().domain(subgroups).range([\"#dd1c77\", \"#fee391\", \"#99d8c9\", \"#43a2ca\", \"#238b45\"]); //construct a band scale with specified domain and range\n\n        xScale = d3.scaleBand().domain(dataset.map(d => d.month)).range([leftMargin, w - padding]).paddingInner(0.4); //construct a continuous scale with specified domain and range\n\n        yScale = d3.scaleLinear().domain([0, 200]).range([h - padding, padding]); //construct a bootom-oriented axis generator for the given scale\n\n        xAxis = d3.axisBottom().scale(xScale); //construct a left-oriented axis generator for the given scale\n\n        yAxis = d3.axisLeft().scale(yScale).tickFormat(d => d + \" events\").ticks(5); //stack data\n\n        const stack = d3.stack().keys(subgroups).order(d3.stackOrderDescending).offset(d3.stackOffsetNone);\n        let stackData = stack(dataset); //create svg element\n\n        let svg = d3.select(this.props.numberRef.current).append(\"svg\").attr(\"width\", w).attr(\"height\", h); // Add a group for each row of data\n\n        let groups = svg.selectAll(\"g\").data(stackData).enter().append(\"g\").style(\"fill\", d => color(d.key)); //create rect element and load dataset\n\n        let rect = groups.selectAll(\"rect\").data(d => d).enter().append(\"rect\");\n        rect.attr(\"x\", d => xScale(d.data.month)).attr(\"y\", h - padding).attr(\"width\", xScale.bandwidth()).attr(\"height\", 0).transition().duration(700).delay((d, i) => i * 300).attr(\"y\", d => yScale(d[1])).attr(\"height\", d => yScale(d[0]) - yScale(d[1])); //Create axis-x and axis-y\n\n        svg.append(\"g\").attr(\"class\", \"axis-x\").attr(\"transform\", `translate(0, ${h - padding})`).attr(\"color\", \"#555\").call(xAxis).selectAll(\"text\").attr(\"font-size\", \"15px\").attr(\"color\", \"#000\");\n        svg.append(\"g\").attr(\"class\", \"axis-y\").attr(\"transform\", `translate(${leftMargin}, 0)`).attr(\"color\", \"#555\").call(yAxis).selectAll(\"text\").attr(\"font-size\", \"15px\").attr(\"color\", \"#000\"); //create legends\n\n        let legend = svg.append(\"g\").attr(\"font-size\", \"15px\").attr(\"text-anchor\", \"end\").selectAll(\"g\").data(subgroups).enter().append(\"g\").attr(\"transform\", (d, i) => `translate(0, ${i * 13})`).style(\"opacity\", \"0\");\n        legend.append(\"rect\").attr(\"x\", w - 19).attr(\"y\", padding - 40).attr(\"width\", 10).attr(\"height\", 10).attr(\"fill\", d => color(d));\n        legend.append(\"text\").attr(\"x\", w - 24).attr(\"y\", padding - 40).attr(\"dy\", \"0.7em\").attr(\"fill\", d => color(d)).text(d => d);\n        legend.transition().duration(500).delay((d, i) => 3300 + 300 * i).style(\"opacity\", \"1\"); //define event listeners for click, mouseover, mouseout\n\n        rect.on(\"mouseover\", (event, d) => {\n          d3.select(\"#number\").style(\"left\", event.pageX + \"px\").style(\"top\", event.pageY + \"px\").select(\"#value\").text(d[1] - d[0]);\n          d3.select(\"#number\").select(\"#year\").text(() => {\n            for (let key in d.data) {\n              if (d.data[key] === d[1] - d[0]) {\n                return \"location: \" + key;\n              }\n            }\n          });\n          d3.select(\"#number\").select(\"#change\").text(() => {\n            let sum = 0;\n\n            for (let key in d.data) {\n              if (isNaN(d.data[key])) continue;\n              sum += +d.data[key];\n            }\n\n            return sum;\n          });\n          d3.select(\"#number\").classed(\"hidden\", false);\n        }).on(\"mouseout\", (event, d) => {\n          d3.select(\"#number\").classed(\"hidden\", true);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"number-monthly\",\n      style: {\n        display: this.props.selectedStatsID === 0 ? \"block\" : \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(ChartHeader, {\n        chartTitle: \"Number of events over time\",\n        dotColor: \"#43a2ca\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NumberRadioButton, {\n        onChange: e => this.handleNumberYearChange(e.target.value),\n        year: this.state.numberYear\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ChartContainer, {\n        containerRef: this.props.numberRef,\n        tooltipID: \"number\",\n        tooltipValueTitle: \"number of events\",\n        tooltipOption: \"out of\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ChartFooter, {\n        chartSource: \"The Warehouse Calendar, The Warehouse.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","d3","eventData","ChartHeader","ChartFooter","ChartContainer","RadioButton","Component","render","props","value","onChange","checked","id","NumberRadioButton","yearRange","map","element","year","Number","state","numberYear","handleNumberYearChange","setState","componentDidMount","drawNumber","componentDidUpdate","selectAll","remove","w","h","padding","leftMargin","dataset","xScale","yScale","xAxis","yAxis","csv","then","data","monthGroup","i","push","obj","month","location","monthNames","subgroups","color","scaleOrdinal","domain","range","scaleBand","d","paddingInner","scaleLinear","axisBottom","scale","axisLeft","tickFormat","ticks","stack","keys","order","stackOrderDescending","offset","stackOffsetNone","stackData","svg","select","numberRef","current","append","attr","groups","enter","style","key","rect","bandwidth","transition","duration","delay","call","legend","text","on","event","pageX","pageY","sum","isNaN","classed","catch","error","console","log","display","selectedStatsID","e","target"],"sources":["/Users/yupenglei/Documents/wrk-dashboard-light/src/component/events/number.js"],"sourcesContent":["import React from \"react\";\nimport * as d3 from \"d3\";\nimport eventData from \"../../data/events_warehouse_calendar.csv\";\nimport { ChartHeader, ChartFooter, ChartContainer } from \"../housing/availableUnits\";\n\nexport class RadioButton extends React.Component {\n    render() {  \n        return (\n            <div className=\"form-group\">\n                <input type='radio' value={this.props.value} onChange={this.props.onChange}  checked={this.props.checked} id={this.props.id} />\n                <label htmlFor={this.props.id}>{this.props.value}</label>\n            </div>\n        );\n    }\n}\n\nclass NumberRadioButton extends React.Component {\n    render() {\n        const yearRange = [\"2020\", \"2021\", \"2022\"];\n        return (\n            <div className=\"radio-buttons\">\n                {yearRange.map(element => {\n                    return (\n                        <React.Fragment key={element}>\n                            <RadioButton\n                                value={element}\n                                onChange={this.props.onChange}\n                                id={element + \"number\"}\n                                checked={this.props.year === element}\n                            />\n                        </React.Fragment>\n                    );\n                })} \n            </div>\n        );\n        \n    }\n}\n\nexport default class Number extends React.Component {\n\n    state = {\n        numberYear: \"2022\"\n    }\n\n    handleNumberYearChange = (value) => {\n        let numberYear = this.state.numberYear;\n        numberYear = value;\n        this.setState({\n            numberYear: numberYear\n        })\n    }\n\n    componentDidMount = () => {\n        this.drawNumber();\n    }\n\n    componentDidUpdate = () => {\n        d3.selectAll(\"svg\").remove();\n        this.drawNumber();\n    }\n\n    drawNumber = () => {\n        //set svg size\n        let w = 1000;\n        let h = 500;\n        let padding = 40;\n        let leftMargin = 100;\n\n        let dataset = [], xScale, yScale, xAxis, yAxis;\n        //loading data from csv file\n        d3.csv(eventData).then(data => {\n\n            let monthGroup = [];\n\n            for (let i = 0; i < 12; i++) {\n                monthGroup.push({\n                    \"Other\": 0, \n                    \"Resume\": 0, \n                    \"Virtual Classes\": 0, \n                    \"The Warehouse\": 0, \n                    \"Digital Media Arts Room\": 0\n                })\n            }\n\n            for (let obj of data) {\n                if (obj.year !== this.state.numberYear) continue;\n\n                let month = obj.month;\n                let location = obj.location;\n                \n                monthGroup[month - 1][location]++;\n                \n            } \n\n            let monthNames = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May.\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n            for (let i = 0; i < 12; i++) {\n                dataset.push({month: monthNames[i], ...monthGroup[i]});\n            }\n\n            let subgroups = [\"Other\", \"Resume\", \"Virtual Classes\", \"The Warehouse\", \"Digital Media Arts Room\"];\n\n            let color = d3.scaleOrdinal()\n                            .domain(subgroups)\n                            .range([\"#dd1c77\", \"#fee391\", \"#99d8c9\", \"#43a2ca\", \"#238b45\"]);\n\n            //construct a band scale with specified domain and range\n            xScale = d3.scaleBand()\n                        .domain(dataset.map(d => d.month))\n                        .range([leftMargin, w - padding])\n                        .paddingInner(0.4);\n\n            //construct a continuous scale with specified domain and range\n            yScale = d3.scaleLinear()\n                        .domain([0, 200])\n                        .range([h - padding, padding]);\n\n            //construct a bootom-oriented axis generator for the given scale\n            xAxis = d3.axisBottom()\n                        .scale(xScale);\n\n            //construct a left-oriented axis generator for the given scale\n            yAxis = d3.axisLeft()\n                        .scale(yScale)\n                        .tickFormat(d => d + \" events\")\n                        .ticks(5); \n\n            //stack data\n            const stack = d3.stack()\n                                .keys(subgroups)\n                                .order(d3.stackOrderDescending)\n                                .offset(d3.stackOffsetNone);\n            \n            let stackData = stack(dataset);\n            \n            //create svg element\n            let svg = d3.select(this.props.numberRef.current)\n                        .append(\"svg\")\n                        .attr(\"width\", w)\n                        .attr(\"height\", h);  \n\n            // Add a group for each row of data\n            let groups = svg.selectAll(\"g\")\n                            .data(stackData)\n                            .enter()\n                            .append(\"g\")\n                            .style(\"fill\", d => color(d.key));\n\n            //create rect element and load dataset\n            let rect = groups.selectAll(\"rect\")\n                            .data(d => d)\n                            .enter()\n                            .append(\"rect\");\n\n            rect.attr(\"x\", d => xScale(d.data.month))\n                .attr(\"y\", h - padding)\n                .attr(\"width\", xScale.bandwidth())\n                .attr(\"height\", 0)\n                .transition()\n                    .duration(700)\n                    .delay((d, i) => i * 300)\n                    .attr(\"y\", d => yScale(d[1]))\n                    .attr(\"height\", d => yScale(d[0]) - yScale(d[1]));\n\n            //Create axis-x and axis-y\n            svg.append(\"g\")\n                .attr(\"class\", \"axis-x\")\n                .attr(\"transform\", `translate(0, ${h - padding})`)\n                .attr(\"color\", \"#555\")\n                .call(xAxis)\n                .selectAll(\"text\")\n                .attr(\"font-size\", \"15px\")\n                .attr(\"color\", \"#000\")\n\n                \n        \n            svg.append(\"g\")\n                .attr(\"class\", \"axis-y\")\n                .attr(\"transform\", `translate(${leftMargin}, 0)`)\n                .attr(\"color\", \"#555\")\n                .call(yAxis)\n                .selectAll(\"text\")\n                .attr(\"font-size\", \"15px\")\n                .attr(\"color\", \"#000\");\n\n            //create legends\n            let legend = svg.append(\"g\")\n                            .attr(\"font-size\", \"15px\")\n                            .attr(\"text-anchor\", \"end\")\n                            .selectAll(\"g\")\n                            .data(subgroups)\n                            .enter()\n                            .append(\"g\")\n                            .attr(\"transform\", (d, i) => `translate(0, ${i * 13})`)\n                            .style(\"opacity\", \"0\");\n\n            legend.append(\"rect\")\n                    .attr(\"x\", w - 19)\n                    .attr(\"y\", padding - 40)\n                    .attr(\"width\", 10)\n                    .attr(\"height\", 10)\n                    .attr(\"fill\", d => color(d));\n\n            legend.append(\"text\")\n                    .attr(\"x\", w - 24)\n                    .attr(\"y\", padding - 40)\n                    .attr(\"dy\", \"0.7em\")\n                    .attr(\"fill\", d => color(d))\n                    .text(d => d);\n\n            legend.transition()\n                    .duration(500)\n                    .delay((d, i) => 3300 + 300 * i)\n                    .style(\"opacity\", \"1\");\n\n            //define event listeners for click, mouseover, mouseout\n            rect.on(\"mouseover\", (event, d) => {\n\n                    d3.select(\"#number\")\n                        .style(\"left\", event.pageX + \"px\")\n                        .style(\"top\", event.pageY + \"px\")\n                        .select(\"#value\")\n                        .text(d[1] - d[0]);\n\n                    d3.select(\"#number\")\n                        .select(\"#year\")\n                        .text( () => {\n                            for (let key in d.data) {\n                                if (d.data[key] === d[1] - d[0]) {\n                                    return (\n                                        \"location: \" + key\n                                    );\n                                }\n                            }\n                        });\n\n                    d3.select(\"#number\")\n                        .select(\"#change\")\n                        .text( () => {\n                            let sum = 0;\n                            for (let key in d.data) {\n                                if (isNaN(d.data[key])) continue;\n                                sum += +d.data[key];\n                            }\n                            return sum;\n                        });\n                        \n                    d3.select(\"#number\").classed(\"hidden\", false);\n\n                })\n                .on(\"mouseout\", (event, d) => {\n\n                    d3.select(\"#number\").classed(\"hidden\", true);\n                });\n\n\n            }).catch((error) => {\n                console.log(error);\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"number-monthly\" style={{display: this.props.selectedStatsID === 0 ? \"block\" : \"none\"}} >\n                <ChartHeader \n                    chartTitle=\"Number of events over time\"\n                    dotColor=\"#43a2ca\"\n                />\n                <NumberRadioButton\n                    onChange={e => this.handleNumberYearChange(e.target.value)} \n                    year={this.state.numberYear}\n                />\n                <ChartContainer \n                    containerRef={this.props.numberRef} \n                    tooltipID=\"number\"\n                    tooltipValueTitle=\"number of events\"\n                    tooltipOption=\"out of\"\n                />\n                <ChartFooter chartSource=\"The Warehouse Calendar, The Warehouse.\" />\n            </div>\n        );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}