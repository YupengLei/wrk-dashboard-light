{"ast":null,"code":"var _jsxFileName = \"/Users/yupenglei/Documents/wrk-dashboard-light/src/component/housing/availableUnits.js\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport housingData from \"../../data/hud_de_combined.csv\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ChartHeader extends React.Component {\n  render() {\n    const chartHeaderStyle = {\n      marginRight: \"10px\",\n      color: this.props.dotColor\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa-regular fa-circle-dot\",\n        style: chartHeaderStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: this.props.chartTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport class ChartFooter extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Source: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }, this), this.props.chartSource]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Tooltip extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: this.props.tooltipID,\n      className: \"hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          id: \"year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [this.props.tooltipValueTitle, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"value\",\n          children: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: this.props.display\n        },\n        children: [this.props.tooltipOption, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"change\",\n          children: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 87\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport class ChartContainer extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: this.props.containerRef,\n      className: \"chart\",\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        tooltipID: this.props.tooltipID,\n        tooltipValueTitle: this.props.tooltipValueTitle,\n        tooltipOption: this.props.tooltipOption,\n        display: this.props.display\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default class AvailableUnits extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.componentDidMount = () => {\n      this.drawAvailableUnits();\n    };\n\n    this.componentDidUpdate = () => {\n      d3.select(\"svg\").remove();\n      this.drawAvailableUnits();\n    };\n\n    this.drawAvailableUnits = () => {\n      //set svg size\n      let w = 1000;\n      let h = 500;\n      let padding = 120;\n      let dataset = [],\n          xScale,\n          yScale,\n          xAxis,\n          yAxis; //loading data from csv file\n\n      d3.csv(housingData).then(data => {\n        let prev;\n\n        for (let obj of data) {\n          if (obj.code !== \"10003003002\") continue;\n          if (prev === undefined) prev = obj.total_units;\n          dataset.push([obj.year, obj.total_units, obj.total_units / prev - 1]);\n          prev = obj.total_units;\n        } //construct a band scale with specified domain and range\n\n\n        xScale = d3.scaleBand().domain(dataset.map(d => d[0])).range([padding, w]).paddingInner(0.8); //construct a continuous scale with specified domain and range\n\n        yScale = d3.scaleLinear().domain([200, 400]).range([h - padding, padding]); //construct a bootom-oriented axis generator for the given scale\n\n        xAxis = d3.axisBottom().scale(xScale); //construct a left-oriented axis generator for the given scale\n\n        yAxis = d3.axisLeft().scale(yScale).tickFormat(d => d + \" units\").ticks(5); //create svg element\n\n        let svg = d3.select(this.props.availableUnitsRef.current).append(\"svg\").attr(\"width\", w).attr(\"height\", h); //create rect element and load dataset\n\n        let rect = svg.selectAll(\"rect\").data(dataset).enter().append(\"rect\");\n        rect.attr(\"x\", d => xScale(d[0])).attr(\"y\", h - padding).attr(\"width\", xScale.bandwidth()).attr(\"height\", 0).attr(\"fill\", d => \"#a8ddb5\").transition().duration(700).delay((d, i) => i * 300).attr(\"y\", d => yScale(d[1])).attr(\"height\", d => h - padding - yScale(d[1])); //create percentage label on top\n\n        let percentageLabel = svg.selectAll(\"text\").data(dataset).enter().append(\"text\");\n        percentageLabel.attr(\"class\", \"percentage-label\").attr(\"x\", d => xScale(d[0])).attr(\"y\", d => yScale(d[1]) - 15).attr(\"text-anchor\", \"start\").attr(\"font-weight\", \"bold\").attr(\"font-size\", \"14px\").attr(\"fill\", d => d[2] >= 0 ? \"#41ae76\" : \"#ce1256\").transition().duration(700).delay((d, i) => i * 500).text(d => d3.format(\"+,.1%\")(d[2])); //Create axis-x and axis-y\n\n        svg.append(\"g\").attr(\"class\", \"axis-x\").attr(\"transform\", `translate(0, ${h - padding})`).attr(\"color\", \"#555\").call(xAxis).selectAll(\"text\").attr(\"font-size\", \"15px\").attr(\"color\", \"#000\");\n        svg.append(\"g\").attr(\"class\", \"axis-y\").attr(\"transform\", `translate(${padding}, 0)`).attr(\"color\", \"#555\").call(yAxis).selectAll(\"text\").attr(\"font-size\", \"15px\").attr(\"color\", \"#000\"); //define sortBars function to sort bars \n\n        let sortOrder = false;\n\n        const sortBars = () => {\n          sortOrder = !sortOrder;\n          dataset.sort((a, b) => sortOrder ? a[1] - b[1] : a[0] - b[0]);\n          xScale.domain(dataset.map(d => d[0]));\n          d3.select(\".axis-x\").transition(\"xAxis\").delay((d, i) => i * 10).duration(500).call(xAxis);\n          rect.transition(\"sortBars\").delay((d, i) => i * 10).duration(500).attr(\"x\", d => xScale(d[0]));\n          percentageLabel.attr(\"x\", d => xScale(d[0]));\n        }; //define event listeners for click, mouseover, mouseout\n\n\n        rect.on(\"click\", () => sortBars()).on(\"mouseover\", (event, d) => {\n          d3.select(event.currentTarget).attr(\"fill\", \"#fd8d3c\");\n          d3.select(\"#available\").style(\"left\", event.pageX + \"px\").style(\"top\", event.pageY + \"px\").select(\"#value\").text(d[1]);\n          d3.select(\"#year\").text(\"Riverside \" + d[0]);\n          d3.select(\"#change\").text(d3.format(\"+,.1%\")(d[2]));\n          d3.select(\"#available\").classed(\"hidden\", false);\n        }).on(\"mouseout\", (event, d) => {\n          d3.select(event.currentTarget).transition(\"restoreBarColor\").duration(250).attr(\"fill\", d => \"#a8ddb5\");\n          d3.select(\"#available\").classed(\"hidden\", true);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"available-units\",\n      style: {\n        display: this.props.selectedStatsID === 0 ? \"block\" : \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(ChartHeader, {\n        chartTitle: \"Rental units available in Riverside\",\n        dotColor: \"#a8ddb5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ChartContainer, {\n        containerRef: this.props.availableUnitsRef,\n        tooltipID: \"available\",\n        tooltipValueTitle: \"available units\",\n        tooltipOption: \"change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ChartFooter, {\n        chartSource: \"U.S. Department of Housing and Urban Development (HUD).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","d3","housingData","ChartHeader","Component","render","chartHeaderStyle","marginRight","color","props","dotColor","chartTitle","ChartFooter","chartSource","Tooltip","tooltipID","tooltipValueTitle","display","tooltipOption","ChartContainer","containerRef","AvailableUnits","componentDidMount","drawAvailableUnits","componentDidUpdate","select","remove","w","h","padding","dataset","xScale","yScale","xAxis","yAxis","csv","then","data","prev","obj","code","undefined","total_units","push","year","scaleBand","domain","map","d","range","paddingInner","scaleLinear","axisBottom","scale","axisLeft","tickFormat","ticks","svg","availableUnitsRef","current","append","attr","rect","selectAll","enter","bandwidth","transition","duration","delay","i","percentageLabel","text","format","call","sortOrder","sortBars","sort","a","b","on","event","currentTarget","style","pageX","pageY","classed","catch","error","console","log","selectedStatsID"],"sources":["/Users/yupenglei/Documents/wrk-dashboard-light/src/component/housing/availableUnits.js"],"sourcesContent":["import React from \"react\";\nimport * as d3 from \"d3\";\nimport housingData from \"../../data/hud_de_combined.csv\";\n\nexport class ChartHeader extends React.Component {\n    render() {\n        const chartHeaderStyle = {\n            marginRight: \"10px\",\n            color: this.props.dotColor\n        }\n        return (\n            <div id=\"header\">\n                <i className=\"fa-regular fa-circle-dot\" style={chartHeaderStyle}></i>\n                <span>{this.props.chartTitle}</span>\n            </div>\n        );\n    }\n}\n\nexport class ChartFooter extends React.Component {\n    render() {\n        return (\n            <div id=\"footer\">\n                    <p>\n                        <strong>Source: </strong>{this.props.chartSource}\n                    </p>\n            </div>\n        );\n    }\n}\n\nclass Tooltip extends React.Component {\n    render() {\n        return (\n            <div id={this.props.tooltipID} className=\"hidden\">\n                <p><strong id=\"year\"></strong></p>\n                <p>{this.props.tooltipValueTitle}: <span id=\"value\">100</span></p>\n                <p style={{display: this.props.display}} >{this.props.tooltipOption}: <span id=\"change\">100%</span></p>\n            </div>\n        );\n    }\n}\n\n\nexport class ChartContainer extends React.Component {\n    render() {\n        return (\n            <div ref={this.props.containerRef} className=\"chart\">\n                <Tooltip \n                    tooltipID={this.props.tooltipID} \n                    tooltipValueTitle={this.props.tooltipValueTitle}\n                    tooltipOption={this.props.tooltipOption}\n                    display={this.props.display}\n                />\n            </div>\n        );\n    }\n}\n\nexport default class AvailableUnits extends React.Component {\n\n    componentDidMount = () => {\n        this.drawAvailableUnits();\n    }\n\n    componentDidUpdate = () => {\n        d3.select(\"svg\").remove();\n        this.drawAvailableUnits();\n    }\n\n    drawAvailableUnits = () => {\n        //set svg size\n        let w = 1000;\n        let h = 500;\n        let padding = 120;\n\n        let dataset = [], xScale, yScale, xAxis, yAxis;\n        //loading data from csv file\n        d3.csv(housingData).then(data => {\n            let prev;\n            for (let obj of data) {\n                if (obj.code !== \"10003003002\") continue;\n                if (prev === undefined) prev = obj.total_units;\n                dataset.push([obj.year, obj.total_units, obj.total_units / prev - 1]);\n                prev = obj.total_units;\n            }  \n\n            //construct a band scale with specified domain and range\n            xScale = d3.scaleBand()\n                        .domain(dataset.map(d => d[0]))\n                        .range([padding, w])\n                        .paddingInner(0.8);\n                                \n            //construct a continuous scale with specified domain and range\n            yScale = d3.scaleLinear()\n                        .domain([200, 400])\n                        .range([h - padding, padding]);\n                        \n\n            //construct a bootom-oriented axis generator for the given scale\n            xAxis = d3.axisBottom()\n                        .scale(xScale);\n\n            //construct a left-oriented axis generator for the given scale\n            yAxis = d3.axisLeft()\n                        .scale(yScale)\n                        .tickFormat(d => d + \" units\")\n                        .ticks(5);                            \n            \n            //create svg element\n            let svg = d3.select(this.props.availableUnitsRef.current)\n                        .append(\"svg\")\n                        .attr(\"width\", w)\n                        .attr(\"height\", h);  \n\n            //create rect element and load dataset\n            let rect = svg.selectAll(\"rect\")\n                            .data(dataset)\n                            .enter()\n                            .append(\"rect\");\n\n            rect.attr(\"x\", d => xScale(d[0]))\n                .attr(\"y\", h - padding)\n                .attr(\"width\", xScale.bandwidth())\n                .attr(\"height\", 0)\n                .attr(\"fill\", d => \"#a8ddb5\")\n                .transition()\n                    .duration(700)\n                    .delay((d, i) => i * 300)\n                    .attr(\"y\", d => yScale(d[1]))\n                    .attr(\"height\", d => h - padding - yScale(d[1]));\n\n            //create percentage label on top\n            let percentageLabel = svg.selectAll(\"text\")\n                                        .data(dataset)\n                                        .enter()\n                                        .append(\"text\")\n\n            percentageLabel.attr(\"class\", \"percentage-label\")\n                            .attr(\"x\", d => xScale(d[0]))\n                            .attr(\"y\", d => yScale(d[1]) - 15)\n                            .attr(\"text-anchor\", \"start\")\n                            .attr(\"font-weight\", \"bold\")\n                            .attr(\"font-size\", \"14px\")\n                            .attr(\"fill\", d => d[2] >= 0 ? \"#41ae76\" : \"#ce1256\")\n                            .transition()\n                                .duration(700)\n                                .delay((d, i) => i * 500)\n                                .text(d => d3.format(\"+,.1%\")(d[2]))\n\n\n            //Create axis-x and axis-y\n            svg.append(\"g\")\n                .attr(\"class\", \"axis-x\")\n                .attr(\"transform\", `translate(0, ${h - padding})`)\n                .attr(\"color\", \"#555\")\n                .call(xAxis)\n                .selectAll(\"text\")\n                .attr(\"font-size\", \"15px\")\n                .attr(\"color\", \"#000\")\n\n                \n        \n            svg.append(\"g\")\n                .attr(\"class\", \"axis-y\")\n                .attr(\"transform\", `translate(${padding}, 0)`)\n                .attr(\"color\", \"#555\")\n                .call(yAxis)\n                .selectAll(\"text\")\n                .attr(\"font-size\", \"15px\")\n                .attr(\"color\", \"#000\");\n\n\n            //define sortBars function to sort bars \n            let sortOrder = false;\n            const sortBars = () => {\n                sortOrder = !sortOrder; \n                dataset.sort((a, b) => sortOrder ? a[1] - b[1] : a[0] - b[0]);\n                xScale.domain(dataset.map(d => d[0]));\n\n                d3.select(\".axis-x\")\n                    .transition(\"xAxis\")\n                    .delay((d, i) => i * 10)\n                    .duration(500)\n                    .call(xAxis);\n\n                rect.transition(\"sortBars\")\n                    .delay((d, i) => i * 10)\n                    .duration(500)\n                    .attr(\"x\", d => xScale(d[0]));\n\n                percentageLabel\n                    .attr(\"x\", d => xScale(d[0]));\n            }\n\n            //define event listeners for click, mouseover, mouseout\n            rect.on(\"click\", () => sortBars())\n                .on(\"mouseover\", (event, d) => {\n\n                        d3.select(event.currentTarget)\n                            .attr(\"fill\", \"#fd8d3c\");\n\n                        d3.select(\"#available\")\n                            .style(\"left\", event.pageX + \"px\")\n                            .style(\"top\", event.pageY + \"px\")\n                            .select(\"#value\")\n                            .text(d[1]);\n\n                        d3.select(\"#year\")\n                            .text(\"Riverside \" + d[0]);\n\n                        d3.select(\"#change\")\n                            .text(d3.format(\"+,.1%\")(d[2]));\n                            \n                        d3.select(\"#available\").classed(\"hidden\", false);\n\n                    })\n                    .on(\"mouseout\", (event, d) => {\n                        d3.select(event.currentTarget)\n                            .transition(\"restoreBarColor\")\n                            .duration(250)\n                            .attr(\"fill\",  d => \"#a8ddb5\");\n\n                        d3.select(\"#available\").classed(\"hidden\", true);\n                    });\n\n            }).catch((error) => {\n                console.log(error);\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"available-units\" style={{display: this.props.selectedStatsID === 0 ? \"block\" : \"none\"}} >\n                <ChartHeader \n                    chartTitle=\"Rental units available in Riverside\"\n                    dotColor=\"#a8ddb5\"\n                />\n                <ChartContainer \n                    containerRef={this.props.availableUnitsRef} \n                    tooltipID=\"available\"\n                    tooltipValueTitle=\"available units\"\n                    tooltipOption=\"change\"\n                />\n                <ChartFooter chartSource=\"U.S. Department of Housing and Urban Development (HUD).\" />\n            </div>\n        );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}